<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Clustering</title>
    <link href="clustering.css" rel="stylesheet" type="text/css">
    <script language="javascript" type="text/javascript" src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script language="javascript" type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.min.js"></script>
    <script language="javascript" type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.resize.min.js"></script>
    <script type="text/javascript">

    $(document).ready(function() {
        $(function() {
            var url = '/json/list/datasets';

            $.getJSON(url, function(json) {
                data = json;
                console.log(data);
                if (!data || data == {}) {
                    document.getElementById("title").innerHTML = "No data yet; try again in a few seconds";
                    setTimeout(function() {
                        document.getElementById("title").innerHTML = "Ok, fine, I'll reload for you";
                        document.location.reload(true);
                    }, 10000);
                    return;
                }
                $.plot("#placeholder", data[0], options);
                document.getElementById("title").innerHTML = "Available filenames";
            })
        });
    });

    </script>
</head>
<body>

    <div id="header">
        <h1 id="title">Retrieving filenames</h1>
    </div>

    <div id="dropdown"></div>

</body>
</html>
